module.exports=[2734,(a,b,c)=>{b.exports=a.x("fs",()=>require("fs"))},2747,a=>{"use strict";var b=a.i(2734),c=a.i(4747);function d(){let a=c.default.join(process.cwd(),"public","stores");return b.default.existsSync(a)?b.default.readdirSync(a).filter(d=>b.default.existsSync(c.default.join(a,d,"client.json"))):[]}function e(a){let d=c.default.join(process.cwd(),"public","stores",a,"client.json");return JSON.parse(b.default.readFileSync(d,"utf8"))}function f(){let a=c.default.join(process.cwd(),"data","products.json");return JSON.parse(b.default.readFileSync(a,"utf8"))}a.s(["listStores",()=>d,"readClient",()=>e,"readProducts",()=>f])},5974,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"default",{enumerable:!0,get:function(){return f}});let d=a.r(7669),e=()=>{};function f(a){let{headManager:b,reduceComponentsToState:c}=a;function f(){if(b&&b.mountedInstances){let a=d.Children.toArray(Array.from(b.mountedInstances).filter(Boolean));b.updateHead(c(a))}}return b?.mountedInstances?.add(a.children),f(),e(()=>(b?.mountedInstances?.add(a.children),()=>{b?.mountedInstances?.delete(a.children)})),e(()=>(b&&(b._pendingUpdate=f),()=>{b&&(b._pendingUpdate=f)})),null}},175,(a,b,c)=>{"use strict";b.exports=a.r(1951).vendored.contexts.HeadManagerContext},2939,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"warnOnce",{enumerable:!0,get:function(){return d}});let d=a=>{}},1276,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={default:function(){return p},defaultHead:function(){return l}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(6061),g=a.r(852),h=a.r(8171),i=g._(a.r(7669)),j=f._(a.r(5974)),k=a.r(175);function l(){return[(0,h.jsx)("meta",{charSet:"utf-8"},"charset"),(0,h.jsx)("meta",{name:"viewport",content:"width=device-width"},"viewport")]}function m(a,b){return"string"==typeof b||"number"==typeof b?a:b.type===i.default.Fragment?a.concat(i.default.Children.toArray(b.props.children).reduce((a,b)=>"string"==typeof b||"number"==typeof b?a:a.concat(b),[])):a.concat(b)}a.r(2939);let n=["name","httpEquiv","charSet","itemProp"];function o(a){let b,c,d,e;return a.reduce(m,[]).reverse().concat(l().reverse()).filter((b=new Set,c=new Set,d=new Set,e={},a=>{let f=!0,g=!1;if(a.key&&"number"!=typeof a.key&&a.key.indexOf("$")>0){g=!0;let c=a.key.slice(a.key.indexOf("$")+1);b.has(c)?f=!1:b.add(c)}switch(a.type){case"title":case"base":c.has(a.type)?f=!1:c.add(a.type);break;case"meta":for(let b=0,c=n.length;b<c;b++){let c=n[b];if(a.props.hasOwnProperty(c))if("charSet"===c)d.has(c)?f=!1:d.add(c);else{let b=a.props[c],d=e[c]||new Set;("name"!==c||!g)&&d.has(b)?f=!1:(d.add(b),e[c]=d)}}}return f})).reverse().map((a,b)=>{let c=a.key||b;return i.default.cloneElement(a,{key:c})})}let p=function({children:a}){let b=(0,i.useContext)(k.HeadManagerContext);return(0,h.jsx)(j.default,{reduceComponentsToState:o,headManager:b,children:a})};("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},9059,(a,b,c)=>{b.exports=a.r(1276)},8715,a=>{"use strict";var b=a.i(9168),c=a.i(7068),d=a.i(2759),e=a.i(4843),f=a.i(3586),g=a.i(8171),h=a.i(2747);function i({product:a}){let{name:b,price:c,link:d,image:e}=a;return(0,g.jsxs)("div",{className:"card",children:[(0,g.jsx)("div",{className:"card-media",children:e?(0,g.jsx)("img",{src:e,alt:b}):null}),(0,g.jsxs)("div",{className:"card-body",children:[(0,g.jsx)("div",{className:"card-title",children:b}),(0,g.jsxs)("div",{className:"price",children:["$",Number(c).toFixed(2)]}),d?(0,g.jsx)("a",{className:"buy",href:d,target:"_blank",rel:"noreferrer",children:"Buy"}):(0,g.jsx)("button",{className:"buy",disabled:!0,children:"Unavailable"})]})]})}function j({client:a}){let b=a?.brand?.hero;return(0,g.jsx)("div",{className:"hero",style:b?{backgroundImage:`url(${b})`}:void 0,"aria-hidden":"true"})}var k=a.i(9059),l=a.i(7669);function m({client:a,products:b}){(0,l.useEffect)(()=>{let b=a?.brand||{},c=document.documentElement;b.bg1&&c.style.setProperty("--bg1",b.bg1),b.bg2&&c.style.setProperty("--bg2",b.bg2),b.text&&c.style.setProperty("--text",b.text),b.primary&&c.style.setProperty("--primary",b.primary)},[a]);let[c,d]=(0,l.useState)("All"),[e,f]=(0,l.useState)("az"),h=(0,l.useMemo)(()=>{let a=new Set;return b.forEach(b=>(b.tags||[]).forEach(b=>a.add(b))),["All",...Array.from(a)]},[b]),m=(0,l.useMemo)(()=>{let a=[...b];return"All"!==c&&(a=a.filter(a=>(a.tags||[]).includes(c))),"az"===e&&a.sort((a,b)=>a.name.localeCompare(b.name)),"za"===e&&a.sort((a,b)=>b.name.localeCompare(a.name)),"price+"===e&&a.sort((a,b)=>Number(a.price)-Number(b.price)),"price-"===e&&a.sort((a,b)=>Number(b.price)-Number(a.price)),a},[b,c,e]);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(k.default,{children:[(0,g.jsx)("title",{children:a.name}),(0,g.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"})]}),(0,g.jsx)(j,{client:a}),(0,g.jsxs)("div",{className:"wrap",children:[(0,g.jsxs)("header",{className:"site-header",children:[a.brand?.logo?(0,g.jsx)("img",{src:a.brand.logo,alt:"Brand logo"}):null,(0,g.jsx)("span",{className:"site-title",children:a.name}),(0,g.jsx)("div",{style:{opacity:.7,marginTop:6},children:"Official merch · quick checkout via Stripe"})]}),(0,g.jsxs)("div",{className:"filters",children:[(0,g.jsx)("div",{className:"chips",children:h.map(a=>(0,g.jsx)("div",{className:`chip ${a===c?"active":""}`,onClick:()=>d(a),children:a},a))}),(0,g.jsx)("div",{children:(0,g.jsxs)("select",{className:"sort",value:e,onChange:a=>f(a.target.value),children:[(0,g.jsx)("option",{value:"az",children:"A–Z"}),(0,g.jsx)("option",{value:"za",children:"Z–A"}),(0,g.jsx)("option",{value:"price+",children:"Price ↑"}),(0,g.jsx)("option",{value:"price-",children:"Price ↓"})]})})]}),(0,g.jsx)("div",{className:"grid",children:m.map(a=>(0,g.jsx)(i,{product:a},`${a.sku}-${a.name}`))}),(0,g.jsxs)("div",{className:"footer",children:["© ",new Date().getFullYear()," ",a.name," — Powered by Notion & Stripe"]})]})]})}async function n(){return{paths:(0,h.listStores)().map(a=>({params:{store:a}})),fallback:!1}}async function o({params:a}){let b=(0,h.readClient)(a.store),c=(0,h.readProducts)(),d=new Set([...b.sku_allowlist||[]]),e=b.sku_prefixes||[];return{props:{client:b,products:c.filter(a=>a.active&&((a="")=>d.has(a)||e.some(b=>a.startsWith(b)))(a.sku)).map(a=>({name:a.name,sku:a.sku,price:a.price,link:a.link||null,image:a.image||null,tags:a.tags||[]}))}}}a.s(["default",()=>m,"getStaticPaths",()=>n,"getStaticProps",()=>o],3201);var p=a.i(3201),q=a.i(9193);let r=(0,d.hoist)(p,"default"),s=(0,d.hoist)(p,"getStaticProps"),t=(0,d.hoist)(p,"getStaticPaths"),u=(0,d.hoist)(p,"getServerSideProps"),v=(0,d.hoist)(p,"config"),w=(0,d.hoist)(p,"reportWebVitals"),x=(0,d.hoist)(p,"unstable_getStaticProps"),y=(0,d.hoist)(p,"unstable_getStaticPaths"),z=(0,d.hoist)(p,"unstable_getStaticParams"),A=(0,d.hoist)(p,"unstable_getServerProps"),B=(0,d.hoist)(p,"unstable_getServerSideProps"),C=new b.PagesRouteModule({definition:{kind:c.RouteKind.PAGES,page:"/[store]",pathname:"/[store]",bundlePath:"",filename:""},distDir:".next",relativeProjectDir:"",components:{App:f.default,Document:e.default},userland:p}),D=(0,q.getHandler)({srcPage:"/[store]",config:v,userland:p,routeModule:C,getStaticPaths:t,getStaticProps:s,getServerSideProps:u});a.s(["config",0,v,"default",0,r,"getServerSideProps",0,u,"getStaticPaths",0,t,"getStaticProps",0,s,"handler",0,D,"reportWebVitals",0,w,"routeModule",0,C,"unstable_getServerProps",0,A,"unstable_getServerSideProps",0,B,"unstable_getStaticParams",0,z,"unstable_getStaticPaths",0,y,"unstable_getStaticProps",0,x],8715)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__84c15bfc._.js.map